\chapter{Resultat}

\section{Systemdesign}

\subsection{Allmän systembeskrivning}
Systemet ska vara en webbapplikation som tillåter användare att transkribera
YouTube-videor. Användare ska kunna skapa ett konto och logga in för att
transkribera videor. Användare ska kunna skapa nya transkriberingar genom att
mata in en URL till en YouTube-video. Andra användare ska kunna hämta samma
transkribering genom att mata in samma URL.

\subsection{Arkitektur}

\subsubsection{Komponenter}

\paragraph{Transkriberingskö}
Transkriberingskön innehåller meddelanden med URL:er till YouTube-videor som
ska transkriberas. I dessa meddelanden ingår även information om vem som
begärde transkriberingen. Transkriberingskön är en separat komponent som drivs
av Apache Kafka.

\paragraph{E-postkö}
E-postkön innehåller meddelanden med e-postadresser och transkriberingar som
ska skickas till dessa adresser. Används för att se till att alla användare
får de transkriberingar de begär om systemet är överbelastat eller kraschar.
E-postkön är en separat komponent som drivs av Apache Kafka.

\paragraph{Transkriberingsmotor}
Transkriberingsmotorn ska vara en separat komponent som hämtar från
transkriberingskön. Efter hämtat meddelande från kön ska motorn hämta videon
från YouTube och transkribera den. När transkriberingen är klar ska motorn
lägga till den i databasen och skicka en notis till e-postkön att
transkriberingen är klar. Sist ska motorn radera videon från disk för att
frigöra utrymme. Transkriberingsmotorn implementeras i programmeringsspråket
Python med hjälp av OpenAI:s Whisper. För flödesdiagram, se Figur \ref{fig:transcription-flowchart}.

\paragraph{E-posttjänst}
E-posttjänsten ska vara en separat komponent som hämtar från e-postkön. Efter
hämtat meddelande från kön ska tjänsten skicka e-post till adressen med
transkriberingen som en bifogad fil. E-posttjänsten implementeras i 
programmeringsspråket Go. För flödesdiagram, se Figur \ref{fig:email-flowchart}.

\paragraph{Backend}
Backend ska vara en separat komponent som tillåter användare att skapa ett
konto, logga in och begära transkriberingar via ett RESTful API. Backend ska
även hantera autentisering och auktorisering av användare. Backend implementeras
i programmeringsspråket Go med hjälp av ramverket Gin. För flödesdiagram, se Figur \ref{fig:system-flowchart}.

\paragraph{Frontend}
Frontend ska vara en separat komponent som tillåter användare att skapa ett
konto, logga in och begära transkriberingar. Frontend ska även visa hur
många polletter användaren har kvar och hur många polletter en transkribering
kommer att kosta. Frontend implementeras i programmeringsspråket JavaScript,
HTML och CSS utan något ramverk.

\paragraph{Databas}
Databasen ska vara en separat komponent som lagrar användare, transkriberingar
och polletter. Databasen är en instans av den relationella databasen MariaDB.

\subsubsection{Kommunikation}
Namn, tid

\subsubsection{Säkerhet}
Feltolerans, skalning, autentisering, auktorisering, kryptering

\subsection{Användningsfall}

\subsubsection{Skapa konto}
Jag som användare vill kunna skapa ett konto för att kunna begära
transkriberingar till YouTube-videor.

\subsubsection{Logga in}
Jag som användare vill kunna logga in för att kunna begära transkriberingar
till YouTube-videor.

\subsubsection{Skapa transkribering}
Jag som användare vill kunna skapa en transkribering genom att mata in en URL
till en YouTube-video för att få innehållet i videon utan att behöva kolla på
den.

\subsubsection{Hämta transkribering}
Jag som användare vill kunna hämta en transkribering genom att mata in en URL
till en YouTube-video för att få innehållet i videon utan att behöva kolla på
den.

\subsection{Tidsplan}
Se Figur \ref{fig:gantt}.